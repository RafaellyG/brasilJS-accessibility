<!-- 
    Fonte:
    https://www.w3.org/WAI/tutorials/forms/notifications/
    https://ireade.github.io/accessible-modal-dialog/
-->
<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>BrazilJS - Acessibilidade</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="input.css">
    <link rel="stylesheet" href="dialog.css">
    <link rel="stylesheet" href="style.css">

    <script type="module">
        import { Dialog } from './dialog.js';

        var navDialogEl = document.querySelector('.dialog');
        var dialogOverlay = document.querySelector('.dialog-overlay');

        var myDialog = new Dialog(navDialogEl, dialogOverlay);
        myDialog.addEventListeners('.open-dialog', '.close-dialog');
    </script>

</head>

<body>
    <h1>Melhorando a acessibilidade com javascript</h1>
    <h2>Formulário</h2>
    <form action="">
        <fieldset>
            <legend>Cadastro de usuário</legend>

            <label for="username">Usuário:</label>
            <input type="text" autocomplete="off" name="username" id="username" required>
            <span id="username_feedback" aria-live="assertive"></span>

            <br><br>

            <div>
                <label for="date">Data:</label>
                <input type="text" name="date" id="date" autocomplete="off" aria-describedby="dateDescription">
                <span id="dateDescription" aria-live="assertive"></span>
            </div>
        </fieldset>
    </form>

    <!-- ---------------------- DIALOG -------------------- -->
    <h2>Dialog</h2>
    <button type="button" class="open-dialog"> Abrir dialog </button>

    <div class="dialog" role="dialog" aria-hidden="true" aria-labelledby="dialog-title" aria-describedby="dialog-description">
        <h1 id="dialog-title">Receber notificações</h1>
        <p id="dialog-description" class="sr-only">receba por email as novas atualizações</p>


        <label for="email">Email:</label>
        <input type="email" name="email" id="email" required>

        <button type="button" class="close-dialog">Salvar</button>
        <button type="button" aria-label="Fechar" class="close-dialog">X</button>
    </div>
    <div class="dialog-overlay" aria-hidden="true" tabindex="-1"></div>

</body>

<script src="input.js" type="text/javascript"></script>
<script src="dialog.js" type="module"></script>

</html>